
listen:
- 127.0.0.1:8080

debug-routing: true

routing:
  localhost/empty.gif: empty-gif
  localhost/favicon.ico: public
  localhost: chat
  # we can't proxy websockets for now, so we disable websocket to webpack
  localhost/sockjs-node: empty-gif


handlers:

  chat: !SwindonChat

    session-pool: chat
    http-route: html

    message-handlers:
      "*": chat

  empty-gif: !EmptyGif

  public: !Static
    mode: relative_to_domain_root
    path: ./public
    text-charset: utf-8

  html: !Proxy
    destination: webpack


session-pools:
  chat:
    listen: 127.0.0.1:8081
    inactivity-handlers: [chat]


http-destinations:
  chat:
    addresses:
    - 127.0.0.1:8082
  webpack:
    addresses:
    - 127.0.0.1:3000
